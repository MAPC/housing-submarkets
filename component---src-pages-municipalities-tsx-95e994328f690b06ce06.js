/*! For license information please see component---src-pages-municipalities-tsx-95e994328f690b06ce06.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+qE3":function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,r),i(n)},e.once("error",o)),e.once(t,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,o,s,a;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=p.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=g(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(u(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},"/5w7":function(e,t,n){"use strict";e.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو"}}},"0KjW":function(e,t,n){"use strict";var i=n("KXza");e.exports=i},"2+Hy":function(e,t,n){"use strict";n("E9XD");var i=n("YI60"),r=n("U6jy"),o=n("uhBA"),s=n("d0rS"),a=n("jLWS"),l=1;function u(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var i=r(n,t.headers),s=Object.keys(i).reduce((function(e,t){return e[t.toLowerCase()]=i[t],e}),{});this.id=l++,this._options=t,this.emitter=new o,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=s}u.prototype.url=function(e){var t=s.prependOrigin(this.path,this.origin);t=s.appendQueryObject(t,this.query);var n=this.params,o=null==e?this.client.accessToken:e;if(o){t=s.appendQueryParam(t,"access_token",o);var a=i(o).user;n=r({ownerId:a},n)}return t=s.interpolateRouteParams(t,n),t},u.prototype.send=function(){var e=this;if(e.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return e.sent=!0,e.client.sendRequest(e).then((function(t){return e.response=t,e.emitter.emit(a.EVENT_RESPONSE,t),t}),(function(t){throw e.error=t,e.emitter.emit(a.EVENT_ERROR,t),t}))},u.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},u.prototype.eachPage=function(e){var t=this;function n(n){e(null,n,(function(){delete t._nextPageRequest;var e=n.nextPage();e&&(t._nextPageRequest=e,r(e))}))}function i(t){e(t,null,(function(){}))}function r(e){e.send().then(n,i)}r(this)},u.prototype.clone=function(){return this._extend()},u.prototype._extend=function(e){var t=r(this._options,e);return new u(this.client,t)},e.exports=u},"3wjG":function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),r=n.n(i),o=n("AeFk"),s=n("H8eV"),a=n("9Dj+"),l=n("TjXv");var u={name:"1m8tr58",styles:"align-items:center;display:flex;flex-direction:column;height:15rem;justify-content:center;padding:7.6rem 0 3.6rem"},c=Object(o.b)("color:",l.d.bgPurple,";font-family:",l.b.calibre,";font-size:4.4rem;font-weight:600;line-height:4.4rem;margin:0 0 1.6rem 0;",""),h={name:"x1ngo5",styles:".mapboxgl-ctrl-geocoder{width:40rem;}"},p=function(e){var t=e.containerRef;return Object(o.c)("div",{css:u},Object(o.c)("h2",{css:c},"Search for a municipality"),Object(o.c)("div",{css:h,ref:t}))},d=n("wx14"),f=n("UP1k"),m=n("17x9"),g=n.n(m),v=n("iFvi"),y=n.n(v),b=n("1OyB"),x=n("vuIU"),w=n("md7G"),_=n("foSv"),E=n("Ji7U"),j=n("JX7q"),O=n("ODXe"),k=n("bl9R");function L(e,t){var n=k.b([],t,e);return k.a(n,n,1/n[3]),n}var M=n("ZaHm"),C=n("ZxFD"),R=n("n+fv");function S(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var P=Math.PI,A=P/4,T=P/180,I=180/P;function q(e){return Math.pow(2,e)}function N(e,t){var n=Object(O.a)(e,2),i=n[0],r=n[1];S(Number.isFinite(i)&&Number.isFinite(t)),S(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*T;return[(t*=512)*(i*T+P)/(2*P),t*(P-Math.log(Math.tan(A+.5*o)))/(2*P)]}function F(e,t){var n=Object(O.a)(e,2),i=n[0],r=n[1],o=i/(t*=512)*(2*P)-P,s=2*(Math.atan(Math.exp(P-r/t*(2*P)))-A);return[o*I,s*I]}function z(e){var t=e.latitude,n=e.longitude,i=e.zoom,r=e.scale,o=e.highPrecision,s=void 0!==o&&o;r=void 0!==r?r:q(i),S(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r));var a={},l=512*r,u=Math.cos(t*T),c=l/360,h=c/u,p=l/4003e4/u;if(a.pixelsPerMeter=[p,-p,p],a.metersPerPixel=[1/p,-1/p,1/p],a.pixelsPerDegree=[c,-h,p],a.degreesPerPixel=[1/c,-1/h,1/p],s){var d=T*Math.tan(t*T)/u,f=c*d/2,m=l/4003e4*d,g=m/h*p;a.pixelsPerDegree2=[0,-f,m],a.pixelsPerMeter2=[g,0,g]}return a}function B(e){var t=e.height,n=e.pitch,i=e.bearing,r=e.altitude,o=e.center,s=void 0===o?null:o,a=e.flipY,l=void 0!==a&&a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.h(u,u,[0,0,-r]),M.g(u,u,[1,1,1/t]),M.e(u,u,-n*T),M.f(u,u,i*T),l&&M.g(u,u,[1,-1,1]),s&&M.h(u,u,R.a([],s)),u}function D(e){var t=e.width,n=e.height,i=e.pitch,r=function(e){var t=e.width,n=e.height,i=e.altitude,r=void 0===i?1.5:i,o=e.pitch,s=void 0===o?0:o,a=e.nearZMultiplier,l=void 0===a?1:a,u=e.farZMultiplier,c=void 0===u?1:u,h=s*T,p=Math.atan(.5/r),d=Math.sin(p)*r/Math.sin(Math.PI/2-h-p),f=Math.cos(Math.PI/2-h)*d+r;return{fov:2*Math.atan(n/2/r),aspect:t/n,focalDistance:r,near:l,far:f*c}}({width:t,height:n,altitude:e.altitude,pitch:i,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),o=r.fov,s=r.aspect,a=r.near,l=r.far;return M.d([],o,s,a,l)}function G(e,t){var n=Object(O.a)(e,3),i=n[0],r=n[1],o=n[2],s=void 0===o?0:o;return S(Number.isFinite(i)&&Number.isFinite(r)&&Number.isFinite(s)),L(t,[i,r,s,1])}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Object(O.a)(e,3),r=i[0],o=i[1],s=i[2];if(S(Number.isFinite(r)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(s)){var a=L(t,[r,o,s,1]);return a}var l=L(t,[r,o,0,1]),u=L(t,[r,o,1,1]),c=l[2],h=u[2],p=c===h?0:((n||0)-c)/(h-c);return C.c([],l,u,p)}var V=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function H(e){var t=e.width,n=e.height,i=e.bounds,r=e.padding,o=void 0===r?0:r,s=e.offset,a=void 0===s?[0,0]:s,l=Object(O.a)(i,2),u=Object(O.a)(l[0],2),c=u[0],h=u[1],p=Object(O.a)(l[1],2),d=p[0],f=p[1];if(Number.isFinite(o)){o={top:o,bottom:o,left:o,right:o}}else S(Number.isFinite(o.top)&&Number.isFinite(o.bottom)&&Number.isFinite(o.left)&&Number.isFinite(o.right));var m=new U({width:t,height:n,longitude:0,latitude:0,zoom:0}),g=m.project([c,f]),v=m.project([d,h]),y=[Math.abs(v[0]-g[0]),Math.abs(v[1]-g[1])],b=[t-o.left-o.right-2*Math.abs(a[0]),n-o.top-o.bottom-2*Math.abs(a[1])];S(b[0]>0&&b[1]>0);var x=b[0]/y[0],w=b[1]/y[1],_=(o.right-o.left)/2/x,E=(o.bottom-o.top)/2/w,j=[(v[0]+g[0])/2+_,(v[1]+g[1])/2+E],k=m.unproject(j),L=m.zoom+Math.log2(Math.abs(Math.min(x,w)));return{longitude:k[0],latitude:k[1],zoom:L}}var U=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,r=n.height,o=n.latitude,s=void 0===o?0:o,a=n.longitude,l=void 0===a?0:a,u=n.zoom,c=void 0===u?0:u,h=n.pitch,p=void 0===h?0:h,d=n.bearing,f=void 0===d?0:d,m=n.altitude,g=void 0===m?1.5:m,v=n.nearZMultiplier,y=n.farZMultiplier;Object(b.a)(this,t),i=i||1,r=r||1;var x=q(c);g=Math.max(.75,g);var E=N([l,s],x);E[2]=0;var O=D({width:i,height:r,pitch:p,bearing:f,altitude:g,nearZMultiplier:v||1/r,farZMultiplier:y||1.01}),k=B({height:r,center:E,pitch:p,bearing:f,altitude:g,flipY:!0});return(e=Object(w.a)(this,Object(_.a)(t).call(this,{width:i,height:r,viewMatrix:k,projectionMatrix:O}))).latitude=s,e.longitude=l,e.zoom=c,e.pitch=p,e.bearing=f,e.altitude=g,e.scale=x,e.center=E,e.pixelsPerMeter=z(Object(j.a)(Object(j.a)(e))).pixelsPerMeter[2],Object.freeze(Object(j.a)(Object(j.a)(e))),e}return Object(E.a)(t,e),Object(x.a)(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return N(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return F(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=W(e.pos,this.pixelUnprojectionMatrix),i=N(t,this.scale),r=C.a([],i,C.d([],n));return F(C.a([],this.center,r),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.width,r=this.height,o=H(Object.assign({width:i,height:r,bounds:e},n)),s=o.longitude,a=o.latitude,l=o.zoom;return new t({width:i,height:r,longitude:s,latitude:a,zoom:l})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height,r=t.viewMatrix,o=void 0===r?V:r,s=t.projectionMatrix,a=void 0===s?V:s;Object(b.a)(this,e),this.width=n||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=a;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];M.c(l,l,this.projectionMatrix),M.c(l,l,this.viewMatrix),this.viewProjectionMatrix=l;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];M.g(u,u,[this.width/2,-this.height/2,1]),M.h(u,u,[1,-1,0]),M.c(u,u,this.viewProjectionMatrix);var c=M.b([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(x.a)(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&M.a(t.projectionMatrix,this.projectionMatrix)&&M.a(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,r=this.projectPosition(e),o=G(r,this.pixelProjectionMatrix),s=Object(O.a)(o,2),a=s[0],l=s[1],u=i?l:this.height-l;return 2===e.length?[a,u]:[a,u,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,r=t.targetZ,o=Object(O.a)(e,3),s=o[0],a=o[1],l=o[2],u=i?a:this.height-a,c=r&&r*this.pixelsPerMeter,h=W([s,u,l],this.pixelUnprojectionMatrix,c),p=this.unprojectPosition(h),d=Object(O.a)(p,3),f=d[0],m=d[1],g=d[2];return Number.isFinite(l)?[f,m,g]:Number.isFinite(r)?[f,m,r]:[f,m]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(O.a)(t,2);return[n[0],n[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(O.a)(t,2);return[n[0],n[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}()),Z=n("4ZJM"),K=n.n(Z),J=["top-left","top-right","bottom-left","bottom-right"],Q=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).geocoder=null,t.cachedResult=null,t.initializeGeocoder=function(){var e=t.getMapboxMap(),n=t.getContainerNode(),i=t.props,r=i.inputValue,o=i.render,s=i.getItemValue,a=i.onInit,l=i.position,u={accessToken:i.mapboxApiAccessToken,origin:i.origin,zoom:i.zoom,flyTo:!1,placeholder:i.placeholder,proximity:i.proximity,trackProximity:i.trackProximity,collapsed:i.collapsed,clearAndBlurOnEsc:i.clearAndBlurOnEsc,clearOnBlur:i.clearOnBlur,bbox:i.bbox,types:i.types,countries:i.countries,minLength:i.minLength,limit:i.limit,language:i.language,filter:i.filter,localGeocoder:i.localGeocoder,reverseGeocode:i.reverseGeocode,enableEventLogging:i.enableEventLogging,marker:i.marker,mapboxgl:K.a};o&&"function"==typeof o&&(u.render=o),s&&"function"==typeof s&&(u.getItemValue=s),t.geocoder=new y.a(u),t.subscribeEvents(),n?n.appendChild(t.geocoder.onAdd(e)):e.addControl(t.geocoder,J.find((function(e){return l===e}))),null!=r?t.geocoder.setInput(r):t.cachedResult&&t.geocoder.setInput(t.cachedResult.place_name),(t.cachedResult||null!=r)&&t.showClearIcon(),a(t.geocoder)},t.showClearIcon=function(){t.geocoder._clearEl.style.display="block"},t.getMapboxMap=function(){var e=t.props.mapRef;return e&&e.current&&e.current.getMap()||null},t.getContainerNode=function(){var e=t.props.containerRef;return e&&e.current||null},t.subscribeEvents=function(){t.geocoder.on("clear",t.handleClear),t.geocoder.on("loading",t.handleLoading),t.geocoder.on("results",t.handleResults),t.geocoder.on("result",t.handleResult),t.geocoder.on("error",t.handleError)},t.unsubscribeEvents=function(){t.geocoder.off("clear",t.handleClear),t.geocoder.off("loading",t.handleLoading),t.geocoder.off("results",t.handleResults),t.geocoder.off("result",t.handleResult),t.geocoder.off("error",t.handleError)},t.removeGeocoder=function(){var e=t.getMapboxMap();t.unsubscribeEvents(),e&&e.removeControl&&t.getMapboxMap().removeControl(t.geocoder),t.geocoder=null},t.handleClear=function(){t.cachedResult=null,t.props.onClear()},t.handleLoading=function(e){t.props.onLoading(e)},t.handleResults=function(e){t.props.onResults(e)},t.handleResult=function(e){var n=e.result,i=t.props,r=i.onViewportChange,o=i.onResult,s=n.bbox,a=n.center,l=n.properties,u=(void 0===l?{}:l).short_code,c=a[0],h=a[1],p={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},d=t.getMapboxMap().getContainer().getBoundingClientRect(),m=d.width,g=d.height,v=t.geocoder.options.zoom,y=function(e,t){return new U(t).fitBounds(e)};try{!p[u]&&s?v=y([[s[0],s[1]],[s[2],s[3]]],{width:m,height:g}).zoom:p[u]&&(v=y(p[u].bbox,{width:m,height:g}).zoom)}catch(e){console.warn("following result caused an error when trying to zoom to bbox: ",n),v=t.geocoder.options.zoom}r({longitude:c,latitude:h,zoom:v,transitionInterpolator:new f.a,transitionDuration:3e3}),o(e),t.cachedResult=n,t.geocoder._typeahead.selected=null,t.showClearIcon()},t.handleError=function(e){t.props.onError(e)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.componentDidMount=function(){this.initializeGeocoder()},r.componentWillUnmount=function(){this.removeGeocoder()},r.componentDidUpdate=function(){this.removeGeocoder(),this.initializeGeocoder()},r.getGeocoder=function(){return this.geocoder},r.render=function(){return null},i}(i.PureComponent);Q.propTypes={mapRef:g.a.object.isRequired,containerRef:g.a.object,onViewportChange:g.a.func,mapboxApiAccessToken:g.a.string.isRequired,inputValue:g.a.string,origin:g.a.string,zoom:g.a.number,placeholder:g.a.string,proximity:g.a.object,trackProximity:g.a.bool,collapsed:g.a.bool,clearAndBlurOnEsc:g.a.bool,clearOnBlur:g.a.bool,bbox:g.a.array,types:g.a.string,countries:g.a.string,minLength:g.a.number,limit:g.a.number,language:g.a.string,filter:g.a.func,localGeocoder:g.a.func,reverseGeocode:g.a.bool,enableEventLogging:g.a.bool,marker:g.a.bool,render:g.a.func,getItemValue:g.a.func,position:g.a.oneOf(J),onInit:g.a.func,onClear:g.a.func,onLoading:g.a.func,onResults:g.a.func,onResult:g.a.func,onError:g.a.func},Q.defaultProps={onViewportChange:function(){},origin:"https://api.mapbox.com",zoom:16,placeholder:"Search",trackProximity:!1,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,minLength:2,limit:5,reverseGeocode:!1,enableEventLogging:!0,marker:!0,position:"top-right",onInit:function(){},onClear:function(){},onLoading:function(){},onResults:function(){},onResult:function(){},onError:function(){}};var X=Q,Y=["Acton","Arlington","Ashland","Bedford","Bellingham","Belmont","Beverly","Bolton","Boston","Boxborough","Braintree","Brookline","Burlington","Cambridge","Canton","Carlisle","Chelsea","Cohasset","Concord","Danvers","Dedham","Dover","Duxbury","Essex","Everett","Foxborough","Framingham","Franklin","Gloucester","Hamilton","Hanover","Hingham","Holbrook","Holliston","Hopkinton","Hudson","Hull","Ipswich","Lexington","Lincoln","Littleton","Lynn","Lynnfield","Malden","Manchester","Manchester-by-the-Sea","Marblehead","Marlborough","Marshfield","Maynard","Medfield","Medford","Medway","Melrose","Middleton","Milford","Millis","Milton","Nahant","Natick","Needham","Newton","Norfolk","North Reading","Norwell","Norwood","Peabody","Pembroke","Quincy","Randolph","Reading","Revere","Rockland","Rockport","Salem","Saugus","Scituate","Sharon","Sherborn","Somerville","Southborough","Stoneham","Stoughton","Stow","Sudbury","Swampscott","Topsfield","Wakefield","Walpole","Waltham","Watertown","Wayland","Wellesley","Wenham","Weston","Westwood","Weymouth","Wilmington","Winchester","Winthrop","Woburn","Wrentham"];var $={name:"12iuoey",styles:"bottom:4.2rem;position:absolute;right:1rem"},ee={name:"cc53eh",styles:"flex-shrink:0;padding-left:5rem"};var te=function(e){var t=e.data,n=e.containerRef,r=e.selectedMuni,s=e.setMuni,a=Object(i.useRef)();var u=Object(i.useReducer)((function(e,t){switch(t.type){case"setViewport":return Object.assign({},e,{viewport:t.viewport})}}),{viewport:{latitude:42.3653,longitude:-71.0834,zoom:8.4}}),c=u[0],h=u[1],p=Object(i.useCallback)((function(e){return h({type:"setViewport",viewport:e})}),[]),m=Object(i.useCallback)((function(e){return p(Object.assign({},e,{transitionDuration:1e3,zoom:11}))}),[]),g=["match",["get","ct10_id"]];return t.forEach((function(e){g.push(e.ct10Id,e.submktId?l.c[e.submktId]:"rgba(0, 0, 0, 0)")})),g.push("#B6B6B6"),Object(o.c)("div",{css:ee},Object(o.c)(f.f,Object(d.a)({},c.viewport,{ref:a,width:"600px",height:"600px",onViewportChange:p,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/ckky67v9h2fsd17qvbh2mipkb",scrollZoom:!1,onClick:function(e){s(function(e){var t=e.find((function(e){return"mapc-borders-0im3ea"===e.layer.id}));return t?t.properties.municipal:void 0}(e.features)),h({type:"setViewport",viewport:Object.assign({},c.viewport,{longitude:e.lngLat[0],latitude:e.lngLat[1],zoom:11,transitionDuration:1e3})})}}),Object(o.c)(X,{containerRef:n,mapRef:a,onViewportChange:m,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",types:"place",bbox:Object(i.useMemo)((function(){return[-71.66866501431952,41.97523050594343,-70.53487628480008,42.74357855916575]}),[]),filter:Object(i.useCallback)((function(e){return!!Y.find((function(t){return e.place_name.includes(t+", Massachusetts")}))}),[]),onResult:Object(i.useCallback)((function(e){"Manchester-by-the-Sea"===e.result.text?s("Manchester"):s(e.result.text)}),[]),marker:!1}),Object(o.c)(f.e,{id:"2010 Census Tracts",type:"vector",url:"mapbox://ihill.aw7gvvhk"},Object(o.c)(f.b,{type:"fill",id:"Submarket Choropleth",source:"2010 Census Tracts","source-layer":"Tracts-2jsl06",paint:{"fill-color":g}}),Object(o.c)(f.b,{type:"line",id:"Submarket tract borders",source:"2010 Census Tracts","source-layer":"Tracts-2jsl06",paint:{"line-color":"#707070","line-width":.25}})),Object(o.c)(f.e,{id:"MAPC borders",type:"vector",url:"mapbox://ihill.763lks2o"},Object(o.c)(f.b,{type:"line",id:"MAPC municipal borders",source:"MAPC borders","source-layer":"MAPC_borders-0im3ea",paint:{"line-color":"#231F20"}}),Object(o.c)(f.b,{type:"line",id:"Highlighted municipality",source:"MAPC borders","source-layer":"MAPC_borders-0im3ea",paint:{"line-color":"#FDB525","line-width":3,"line-opacity":r?["match",["get","municipal"],r,1,0]:0}})),Object(o.c)(f.e,{id:"MAPC outer border",type:"vector",url:"mapbox://ihill.74kb5x0f"},Object(o.c)(f.b,{type:"line","source-layer":"Outline-6xc0m1",paint:{"line-width":3,"line-color":"#231F20"}})),Object(o.c)("div",{css:$},Object(o.c)(f.c,null))))},ne=(n("E9XD"),n("Wv92")),ie=n("Wbzz"),re=n("EjHT"),oe=n("iRsM"),se=n("Wh48"),ae=Object(i.forwardRef)((function(e,t){var n=e.color,o=e.size,s=e.weight,a=e.mirrored,l=e.children,u=Object(se.a)(e,["color","size","weight","mirrored","children"]),c=Object(i.useContext)(oe.a),h=c.color,p=c.size,d=c.weight,f=c.mirrored,m=Object(se.a)(c,["color","size","weight","mirrored"]);return r.a.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=o?o:p,height:null!=o?o:p,fill:null!=n?n:h,viewBox:"0 0 256 256",transform:a||f?"scale(-1, 1)":void 0},m,u),l,r.a.createElement("rect",{width:"256",height:"256",fill:"none"}),function(e,t){switch(e){case"bold":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}));case"duotone":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}));case"fill":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M216,136H40a8,8,0,0,1,0-16H216a8,8,0,0,1,0,16Z"}));case"light":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}));case"thin":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}));case"regular":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}));default:return console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null}}(null!=s?s:d,null!=n?n:h))}));ae.displayName="Minus";var le=ae,ue=Object(i.forwardRef)((function(e,t){var n=e.color,o=e.size,s=e.weight,a=e.mirrored,l=e.children,u=Object(se.a)(e,["color","size","weight","mirrored","children"]),c=Object(i.useContext)(oe.a),h=c.color,p=c.size,d=c.weight,f=c.mirrored,m=Object(se.a)(c,["color","size","weight","mirrored"]);return r.a.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=o?o:p,height:null!=o?o:p,fill:null!=n?n:h,viewBox:"0 0 256 256",transform:a||f?"scale(-1, 1)":void 0},m,u),l,r.a.createElement("rect",{width:"256",height:"256",fill:"none"}),function(e,t){switch(e){case"bold":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.a.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}));case"duotone":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.a.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}));case"fill":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}));case"light":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.a.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}));case"thin":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.a.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}));case"regular":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.a.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}));default:return console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null}}(null!=s?s:d,null!=n?n:h))}));ue.displayName="Plus";var ce=ue;function he(e,t){return t(!0!==e)}var pe={name:"ho1qnd",styles:"display:flex;flex-direction:row"},de=Object(o.b)("color:",l.d.darkPurple,";font-size:1.6rem;font-weight:800;margin:0 0 0 1rem;width:29rem;",""),fe={name:"hltamm",styles:"margin-top:2rem"},me={name:"1yp7290",styles:"margin-bottom:2rem"},ge=function(e){var t=e.title,n=e.children,r=Object(i.useState)(!1),s=r[0],a=r[1];return Object(o.c)("div",{css:me},Object(o.c)("header",{css:pe,onClick:function(){return he(s,a)},onKeyDown:function(e){"Enter"===e.key&&he(s,a)},role:"button",tabIndex:0},s?Object(o.c)(le,{size:16,weight:"bold",color:l.d.darkPurple}):Object(o.c)(ce,{size:16,weight:"bold",color:l.d.darkPurple}),Object(o.c)("h5",{css:de},t)),s?Object(o.c)("div",{css:fe},n):"")},ve=function(e){var t=e.submarket;return Object(o.c)(ie.StaticQuery,{query:"953411544",render:function(e){var n=e.allMarkdownRemark.nodes.find((function(e){return e.frontmatter.submarket==t}));return Object(o.c)(ge,{title:"Housing Strategy Examples"},Object(o.c)("div",{dangerouslySetInnerHTML:{__html:n.html}}))}})};var ye={name:"4khvc",styles:"list-style:none;margin:0 0 2.8rem 0;padding:0"},be=Object(o.b)("font-family:",l.b.calibre,";font-size:2rem;font-weight:600;margin:0;","");var xe=function(e){var t=e.submarketData;return Object(o.c)("ul",{css:ye},t?function(e){return Object.entries(e.submarkets).map((function(t){var n=t[0],i=t[1];return Object(o.c)(ie.StaticQuery,{query:"3404230988",render:function(t){return Object(o.c)("li",null,Object(o.c)("h4",{css:be},re.a(".0%")(i/e.total)," of households are in"," ",Object(o.c)(ie.Link,{to:"/submarkets/"+n,css:Object(o.b)("color:",l.c[n],";")},"Submarket ",n)),Object(o.c)("p",null,t.allMarkdownRemark.nodes[n-1].internal.content),Object(o.c)(ve,{submarket:n}))},key:n})}))}(t):"")};var we={name:"g0wiiq",styles:"display:flex;flex-direction:column;margin:0 5rem"},_e=Object(o.b)("font-family:",l.b.calibre,";font-size:2.8rem;font-weight:600;margin:0 0 1.6rem 0;",""),Ee={name:"1tqz0ej",styles:"margin:0 0 1.6rem 0;width:40rem"};var je=function(e){var t=e.data,n=e.selectedMuni,r=Object(i.useState)({}),s=r[0],a=r[1],l=Object(i.useState)([]),u=l[0],c=l[1],h=Object(i.useState)(),p=h[0],d=h[1];return Object(i.useEffect)((function(){c(function(e,t){return t&&e?e.filter((function(e){return e.muni===t})):[]}(t,n)),a({$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"muniData"},mark:{type:"bar"},height:40,width:350,encoding:{x:{aggregate:"sum",field:"hh",title:null,tickMinStep:1,format:","},color:{legend:null,field:"submktId",type:"nominal",scale:{range:["#C7024E","#80CDC1","#06614d","#F37B74","#BF812D","#8C510A","#6EA1C9"],domain:[1,2,3,4,5,6,7]}},tooltip:[{field:"submktId",type:"nominal",title:"Submarket"},{field:"sum_hh",type:"quantitative",title:"Households",format:","}]}})}),[n]),Object(i.useEffect)((function(){d(u.reduce((function(e,t){return e.submarkets[t.submktId]?e.submarkets[t.submktId]+=t.hh:e.submarkets[t.submktId]=t.hh,e.total+=t.hh,e}),{total:0,submarkets:{}}))}),[u]),Object(o.c)("article",{css:we},n?Object(o.c)("h3",{css:_e},n):Object(o.c)("h3",{css:_e},"Search above or click into the map to begin"),s&&n?Object(o.c)(ne.a,{spec:s,data:{muniData:u},css:Ee}):"",p?Object(o.c)(xe,{submarketData:p}):"")};var Oe={name:"1q2ht3e",styles:"display:flex;flex-direction:row;margin:0 auto;max-width:146.6rem;padding-bottom:15rem;@media (max-width: 1150px){align-items:center;flex-direction:column-reverse;}"};t.default=function(e){var t=e.data,n=Object(i.useRef)(null),r=Object(i.useState)(),l=r[0],u=r[1];return Object(o.c)(a.a,null,Object(o.c)(s.a,{title:"Municipalities"},Object(o.c)("link",{href:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css",rel:"stylesheet"})),Object(o.c)(p,{containerRef:n}),Object(o.c)("section",{css:Oe},Object(o.c)(te,{data:t.postgres.allHousSubmarketsCtsList,containerRef:n,selectedMuni:l,setMuni:u}),Object(o.c)(je,{data:t.postgres.allHousSubmarketsCtsList,selectedMuni:l})))}},"4b23":function(e,t,n){for(var i=self.crypto||self.msCrypto,r="-_",o=36;o--;)r+=o.toString(36);for(o=36;o---10;)r+=o.toString(36).toUpperCase();e.exports=function(e){var t="",n=i.getRandomValues(new Uint8Array(e||21));for(o=e||21;o--;)t+=r[63&n[o]];return t}},"5K5J":function(e,t,n){var i,r;i=this,r=function(){var e=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function t(t){return t.match(e)||[]}function n(e){return{language:(e=t(e))[1]||"",extlang:e[2]||"",script:e[3]||"",region:e[4]||""}}function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!0})}function r(e,r,o){function s(n){return t(n)[e]||""}i(s,"pattern",r),i(n,o,s)}return r(1,/^[a-zA-Z]{2,3}$/,"language"),r(2,/^[a-zA-Z]{3}$/,"extlang"),r(3,/^[a-zA-Z]{4}$/,"script"),r(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),i(n,"split",(function(e){return t(e).filter((function(e,t){return e&&t}))})),n},e.exports?e.exports=r():i.subtag=r()},"73jG":function(e,t,n){"use strict";var i=n("jLWS");e.exports=function(e){var t,n=e.type||i.ERROR_HTTP;if(e.body)try{t=JSON.parse(e.body)}catch(o){t=e.body}else t=null;var r=e.message||null;r||("string"==typeof t?r=t:t&&"string"==typeof t.message?r=t.message:n===i.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=n,this.statusCode=e.statusCode||null,this.request=e.request,this.body=t}},"9/5/":function(e,t,n){(function(t){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=a||l||Function("return this")(),c=Object.prototype.toString,h=Math.max,p=Math.min,d=function(){return u.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=r.test(e);return a||o.test(e)?s(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,s,a,l,u=0,c=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,u=t,s=e.apply(o,n)}function b(e){return u=e,a=setTimeout(w,t),c?y(e):s}function x(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-u>=o}function w(){var e=d();if(x(e))return _(e);a=setTimeout(w,function(e){var n=t-(e-l);return g?p(n,o-(e-u)):n}(e))}function _(e){return a=void 0,v&&i?y(e):(i=r=void 0,s)}function E(){var e=d(),n=x(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return b(l);if(g)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=m(t)||0,f(n)&&(c=!!n.leading,o=(g="maxWait"in n)?h(m(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==a&&clearTimeout(a),u=0,i=l=r=a=void 0},E.flush=function(){return void 0===a?s:_(d())},E}}).call(this,n("eKGF"))},AxvH:function(e,t,n){"use strict";n("E9XD"),e.exports=function(e){return e?e.split(/,\s*</).reduce((function(e,t){var n=function(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],i=t[2].split(";"),r=null,o=i.reduce((function(e,t){var n=function(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}(t);return n?"rel"===n.key?(r||(r=n.value),e):(e[n.key]=n.value,e):e}),{});return r?{url:n,rel:r,params:o}:null}(t);return n?(n.rel.split(/\s+/).forEach((function(t){e[t]||(e[t]={url:n.url,params:n.params})})),e):e}),{}):{}}},Bi8L:function(e,t,n){"use strict";var i=n("R/WN");e.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},Cu2R:function(e,t,n){"use strict";var i=n("ncV3"),r=n("KXza");e.exports=function(e){return function(t){var n;n=i.prototype.isPrototypeOf(t)?t:r(t);var o=Object.create(e);return o.client=n,o}}},KXza:function(e,t,n){"use strict";var i=n("oGbY"),r=n("ncV3");function o(e){r.call(this,e)}o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.sendRequest=i.browserSend,o.prototype.abortRequest=i.browserAbort,e.exports=function(e){return new o(e)}},KtRk:function(e,t,n){"use strict";(function(t){var i=n("U6jy"),r=n("pit/");e.exports=i(r,{file:function(e){if("undefined"!=typeof window){if(e instanceof t.Blob||e instanceof t.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof e&&void 0===e.pipe)return"Filename or Readable stream"},date:function(e){if("boolean"==typeof e)return"date";try{var t=new Date(e);if(t.getTime&&isNaN(t.getTime()))return"date"}catch(n){return"date"}},coordinates:function(e){return r.tuple(r.number,r.number)(e)},assertShape:function(e,t){return r.assert(r.strictShape(e),t)}})}).call(this,n("eKGF"))},LFDd:function(e,t,n){"use strict";var i=n("U6jy"),r=n("KtRk"),o=n("baNz"),s=n("eFQn"),a=n("Cu2R"),l={},u=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];l.forwardGeocode=function(e){r.assertShape({query:r.required(r.string),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),proximity:r.coordinates,types:r.arrayOf(r.oneOf(u)),autocomplete:r.boolean,bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),routing:r.boolean})(e),e.mode=e.mode||"mapbox.places";var t=s(i({country:e.countries},o(e,["proximity","types","autocomplete","bbox","limit","language","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(e,["mode","query"]),query:t})},l.reverseGeocode=function(e){r.assertShape({query:r.required(r.coordinates),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),types:r.arrayOf(r.oneOf(u)),bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),reverseMode:r.oneOf("distance","score"),routing:r.boolean})(e),e.mode=e.mode||"mapbox.places";var t=s(i({country:e.countries},o(e,["country","types","bbox","limit","language","reverseMode","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(e,["mode","query"]),query:t})},e.exports=a(l)},"NkL+":function(e,t,n){"use strict";var i=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===i.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},"P8+q":function(e,t,n){var i;n("E9XD"),i={},e.exports=i,i.simpleFilter=function(e,t){return t.filter((function(t){return i.test(e,t)}))},i.test=function(e,t){return null!==i.match(e,t)},i.match=function(e,t,n){n=n||{};var i,r=0,o=[],s=t.length,a=0,l=0,u=n.pre||"",c=n.post||"",h=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var p=0;p<s;p++)i=t[p],h[p]===e[r]?(i=u+i+c,r+=1,l+=1+l):l=0,a+=l,o[o.length]=i;return r===e.length?(a=h===e?1/0:a,{rendered:o.join(""),score:a}):null},i.filter=function(e,t,n){return t&&0!==t.length?"string"!=typeof e?t:(n=n||{},t.reduce((function(t,r,o,s){var a=r;n.extract&&(a=n.extract(r));var l=i.match(e,a,n);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:o,original:r}),t}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}},"R/WN":function(e,t,n){"use strict";var i=n("U6jy"),r=n("P8+q"),o=n("SX8C"),s=function(e,t,n){return n=n||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};s.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},s.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},s.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},s.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout((function(){t.handleInputChange(e.target.value)}),100)}},s.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},s.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},s.prototype.update=function(e){this.data=e,this.handleKeyUp()},s.prototype.clear=function(){this.data=[],this.list.clear()},s.prototype.normalize=function(e){return e=e.toLowerCase()},s.prototype.match=function(e,t){return e.indexOf(t)>-1},s.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},s.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?r.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},s.prototype.getItemValue=function(e){return e},s.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},s.prototype.renderError=function(e){this.list.drawError(e)},e.exports=s},SX8C:function(e,t,n){"use strict";var i=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.add=function(e){this.items.push(e)},i.prototype.clear=function(){this.items=[],this.active=0},i.prototype.isEmpty=function(){return!this.items.length},i.prototype.isVisible=function(){return"block"===this.element.style.display},i.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},i.prototype.drawItem=function(e,t){var n=document.createElement("li"),i=document.createElement("a");t&&(n.className+=" active"),i.innerHTML=e.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},i.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},i.prototype.move=function(e){this.active=e,this.draw()},i.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},i.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},i.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},e.exports=i},"Smn/":function(e,t,n){"use strict";n("E9XD"),e.exports=function(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=t(i,e[i]),n}),{})}},SsYf:function(e,t){e.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},U6jy:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},WpKc:function(e,t,n){"use strict";var i=n("4b23");function r(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}r.prototype={select:function(e,t){var n=this.getSelectedIndex(e,t),i=this.getEventPayload("search.select",t);if(i.resultIndex=n,i.resultPlaceName=e.place_name,i.resultId=e.id,(n!==this.lastSentIndex||i.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=i.queryString,i.queryString))return this.push(i)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!e.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(e.keyCode)){var n=this.getEventPayload("search.keystroke",t);if(n.lastAction=e.key,n.queryString)return this.push(n)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var n=this.getRequestOptions(e);this.request(n,function(e){return e?this.handleError(e,t):t?t():void 0}.bind(this))},getRequestOptions:function(e){return Array.isArray(e)||(e=[e]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},getEventPayload:function(e,t){var n;n=t.options.proximity?[t.options.proximity.longitude,t.options.proximity.latitude]:null;var i=t._map?t._map.getZoom():void 0,r={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",proximity:n,limit:t.options.limit,mapZoom:i,keyboardLocale:this.locale};return"search.select"===e?r.queryString=t.inputString:"search.select"!=e&&t._inputEl?r.queryString=t._inputEl.value:r.queryString=t.inputString,r},request:function(e,t){var n=new XMLHttpRequest;for(var i in n.onreadystatechange=function(){if(4==this.readyState)return 204==this.status?t(null):t(this.statusText)},n.open(e.method,e.host+"/"+e.path,!0),e.headers){var r=e.headers[i];n.setRequestHeader(i,r)}n.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return i()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var n=t._typeahead.data,i=e.id;return n.map((function(e){return e.id})).indexOf(i)}},shouldEnableLogging:function(e){return!1!==e.enableEventLogging&&((!e.origin||-1!=e.origin.indexOf("api.mapbox.com"))&&(!e.localGeocoder&&!e.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}},e.exports=r},YI60:function(e,t,n){"use strict";var i=n("aqBw"),r={};function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){if(r[e])return r[e];var t=e.split("."),n=t[0],s=t[1];if(!s)throw new Error("Invalid token");var a=function(e){try{return JSON.parse(i.decode(e))}catch(t){throw new Error("Invalid token")}}(s),l={usage:n,user:a.u};return o(a,"a")&&(l.authorization=a.a),o(a,"exp")&&(l.expires=1e3*a.exp),o(a,"iat")&&(l.created=1e3*a.iat),o(a,"scopes")&&(l.scopes=a.scopes),o(a,"client")&&(l.client=a.client),o(a,"ll")&&(l.lastLogin=a.ll),o(a,"iu")&&(l.impersonator=a.iu),r[e]=l,l}},aqBw:function(e,t,n){(function(e,i){var r;!function(o){var s=t,a=(e&&e.exports,"object"==typeof i&&i);a.global!==a&&a.window;var l=function(e){this.message=e};(l.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new l(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,r,o=e.length%3,s="",a=-1,l=e.length-o;++a<l;)t=e.charCodeAt(a)<<16,n=e.charCodeAt(++a)<<8,i=e.charCodeAt(++a),s+=c.charAt((r=t+n+i)>>18&63)+c.charAt(r>>12&63)+c.charAt(r>>6&63)+c.charAt(63&r);return 2==o?(t=e.charCodeAt(a)<<8,n=e.charCodeAt(++a),s+=c.charAt((r=t+n)>>10)+c.charAt(r>>4&63)+c.charAt(r<<2&63)+"="):1==o&&(r=e.charCodeAt(a),s+=c.charAt(r>>2)+c.charAt(r<<4&63)+"=="),s},decode:function(e){var t=(e=String(e).replace(h,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",s=-1;++s<t;)i=c.indexOf(e.charAt(s)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},version:"0.1.0"};void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n("wYlg")(e),n("eKGF"))},baNz:function(e,t,n){"use strict";n("E9XD"),e.exports=function(e,t){var n=function(e,n){return-1!==t.indexOf(e)&&void 0!==n};return"function"==typeof t&&(n=t),Object.keys(e).filter((function(t){return n(t,e[t])})).reduce((function(t,n){return t[n]=e[n],t}),{})}},cRm7:function(e,t,n){"use strict";var i=n("AxvH");function r(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch(n){this.body=t.body}this.links=i(this.headers.link)}r.prototype.hasNextPage=function(){return!!this.links.next},r.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},e.exports=r},cryX:function(e,t,n){"use strict";e.exports=function(e){var t={};return e?(e.trim().split(/[\r|\n]+/).forEach((function(e){var n=function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim().toLowerCase(),value:e.substring(t+1).trim()}}(e);t[n.name]=n.value})),t):t}},d0rS:function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.map(encodeURIComponent).join(","):encodeURIComponent(String(e))}function r(e,t,n){if(!1===n||null===n)return e;var r=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return void 0!==n&&""!==n&&!0!==n&&(o+="="+i(n)),""+e+r+o}e.exports={appendQueryObject:function(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach((function(e){var i=t[e];void 0!==i&&(Array.isArray(i)&&(i=i.filter((function(e){return null!=e})).join(",")),n=r(n,e,i))})),n},appendQueryParam:r,prependOrigin:function(e,t){if(!t)return e;if("http"===e.slice(0,4))return e;var n="/"===e[0]?"":"/";return""+t.replace(/\/$/,"")+n+e},interpolateRouteParams:function(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,(function(e,n){var r=t[n];if(void 0===r)throw new Error("Unspecified route parameter "+n);return"/"+i(r)})):e}}},eFQn:function(e,t,n){"use strict";var i=n("Smn/");e.exports=function(e){return i(e,(function(e,t){return"boolean"==typeof t?JSON.stringify(t):t}))}},iFvi:function(e,t,n){"use strict";n("E9XD");var i=n("Bi8L"),r=n("9/5/"),o=n("U6jy"),s=n("+qE3").EventEmitter,a=n("SsYf"),l=n("0KjW"),u=n("LFDd"),c=n("WpKc"),h=n("/5w7"),p=n("5K5J");function d(e){this._eventEmitter=new s,this.options=o({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null}d.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(e,t){if(!document.body.contains(t))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=e.onAdd();t.appendChild(n)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else{if("string"!=typeof e)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(e);if(0===n.length)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}},onAdd:function(e){if(e&&"string"!=typeof e&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=u(l({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new c(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(e){this.eventManager.keyevent(e,this)}.bind(this));var o=document.createElement("div");o.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var s=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(s),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),o.appendChild(this._clearEl),o.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(o),this._typeahead=new i(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=t;else{var i=document.createElement("div");i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";var r=i.firstChild.firstChild;n.appendChild(r)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var i=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!(i?i.value:""))return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";e.metaKey||-1!==[n,t,37,39,13,38,40].indexOf(e.keyCode)||i.value.length>=this.options.minLength&&this._geocode(i.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&JSON.stringify(e)!==this.lastSelected){var t;if(this._clearEl.style.display="none",this.options.flyTo)if(e.properties&&a[e.properties.short_code])t=o({},this.options.flyTo),this._map&&this._map.fitBounds(a[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=o({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var i={zoom:this.options.zoom};(t=o({},i,this.options.flyTo)).center=e.center,this._map&&this._map.flyTo(t)}this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this)}},_geocode:function(e){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var t,n=this,i=null,r=["bbox","limit","proximity","countries","types","language","reverseMode","mode"].reduce((function(e,t){return n.options[t]&&(["countries","types","language"].indexOf(t)>-1?e[t]=n.options[t].split(/[\s,]+/):e[t]=n.options[t],"proximity"===t&&n.options[t]&&"number"==typeof n.options[t].longitude&&"number"==typeof n.options[t].latitude&&(e[t]=[n.options[t].longitude,n.options[t].latitude])),e}),{});if(this.options.localGeocoderOnly)t=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var s=e.split(/[\s(,)?]+/).map((function(e){return parseFloat(e,10)})).reverse();!r.types||r.types[0],"proximity"in(r=o(r,{query:s,limit:1}))&&delete r.proximity,t=this.geocoderService.reverseGeocode(r).send()}else r=o(r,{query:e}),t=this.geocoderService.forwardGeocode(r).send();var a=[];this.options.localGeocoder&&((a=this.options.localGeocoder(e))||(a=[]));var l=[];return t.catch(function(e){i=e}.bind(this)).then(function(t){this._loadingEl.style.display="none";var n={};return t?"200"==t.statusCode&&((n=t.body).request=t.request,n.headers=t.headers):n={type:"FeatureCollection",features:[]},n.config=r,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?a.concat(n.features):a,this.options.externalGeocoder?(l=this.options.externalGeocoder(e,n.features)||[]).then((function(e){return n.features=n.features?e.concat(n.features):e,n}),(function(){return n})):n}.bind(this)).then(function(e){if(i)throw i;this.options.filter&&e.features.length&&(e.features=e.features.filter(this.options.filter)),e.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",e),this._typeahead.update(e.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",e))}.bind(this)).catch(function(e){this._loadingEl.style.display="none",a.length&&this.options.localGeocoder||l.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(a)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:a}),this._eventEmitter.emit("error",{error:e})}.bind(this)),t},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){e.relatedTarget&&this._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=p.language(e),n=h.placeholder[t];if(n)return n}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&"function"==typeof e&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=u(l({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},_handleMarker:function(e){if(this._map){this._removeMarker();var t=o({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(t),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&"Point"===e.geometry.type&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}},e.exports=d},jLWS:function(e,t,n){"use strict";e.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},ncV3:function(e,t,n){"use strict";var i=n("YI60"),r=n("2+Hy"),o=n("jLWS");function s(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");i(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||o.API_ORIGIN}s.prototype.createRequest=function(e){return new r(this,e)},e.exports=s},oGbY:function(e,t,n){"use strict";var i=n("cRm7"),r=n("73jG"),o=n("jLWS"),s=n("cryX"),a={};function l(e){var t=e.total,n=e.loaded;return{total:t,transferred:n,percent:100*n/t}}function u(e,t){return new Promise((function(n,i){t.onprogress=function(t){e.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,l(t))};var s=e.file;s&&(t.upload.onprogress=function(t){e.emitter.emit(o.EVENT_PROGRESS_UPLOAD,l(t))}),t.onerror=function(e){i(e)},t.onabort=function(){var t=new r({request:e,type:o.ERROR_REQUEST_ABORTED});i(t)},t.onload=function(){if(delete a[e.id],t.status<200||t.status>=400){var o=new r({request:e,body:t.response,statusCode:t.status});i(o)}else n(t)};var u=e.body;"string"==typeof u?t.send(u):u?t.send(JSON.stringify(u)):s?t.send(s):t.send(),a[e.id]=t})).then((function(t){return function(e,t){return new i(e,{body:t.response,headers:s(t.getAllResponseHeaders()),statusCode:t.status})}(e,t)}))}function c(e,t){var n=e.url(t),i=new window.XMLHttpRequest;return i.open(e.method,n),Object.keys(e.headers).forEach((function(t){i.setRequestHeader(t,e.headers[t])})),i}e.exports={browserAbort:function(e){var t=a[e.id];t&&(t.abort(),delete a[e.id])},sendRequestXhr:u,browserSend:function(e){return Promise.resolve().then((function(){var t=c(e,e.client.accessToken);return u(e,t)}))},createRequestXhr:c}},"pit/":function(e,t,n){"use strict";n("E9XD");var i=n("NkL+"),r=n("U6jy"),o={};function s(e){var t=Array.isArray(e);return function(n){var i,r=a(o.plainArray,n);if(r)return r;if(t&&n.length!==e.length)return"an array with "+e.length+" items";for(var s=0;s<n.length;s++)if(r=a((i=s,t?e[i]:e),n[s]))return[s].concat(r)}}function a(e,t){if(null!=t||e.hasOwnProperty("__required")){var n=e(t);return n?Array.isArray(n)?n:[n]:void 0}}function l(e,t){var n=e.length,i=e[n-1],o=e.slice(0,n-1);return 0===o.length&&(o=["value"]),t=r(t,{path:o}),"function"==typeof i?i(t):c(t,function(e){return"must be "+function(e){if(/^an? /.test(e))return e;if(/^[aeiou]/i.test(e))return"an "+e;if(/^[a-z]/i.test(e))return"a "+e;return e}(e)+"."}(i))}function u(e){return e.length<2?e[0]:2===e.length?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function c(e,t){return(h(e.path)?"Item at position ":"")+(e.path.join(".")+" "+t)}function h(e){return"number"==typeof e[e.length-1]||"number"==typeof e[0]}o.assert=function(e,t){return t=t||{},function(n){var i=a(e,n);if(i){var r=l(i,t);throw t.apiName&&(r=t.apiName+": "+r),new Error(r)}}},o.shape=function(e){var t,n=(t=e,Object.keys(t||{}).map((function(e){return{key:e,value:t[e]}})));return function(e){var t,i=a(o.plainObject,e);if(i)return i;for(var r=[],s=0;s<n.length;s++)t=n[s].key,(i=a(n[s].value,e[t]))&&r.push([t].concat(i));return r.length<2?r[0]:function(e){r=r.map((function(t){return"- "+t[0]+": "+l(t,e).split("\n").join("\n  ")}));var t=e.path.join(".");return"The following properties"+("value"===t?"":" of "+t)+" have invalid values:\n  "+r.join("\n  ")}}},o.strictShape=function(e){var t=o.shape(e);return function(n){var i=t(n);if(i)return i;var r=Object.keys(n).reduce((function(t,n){return void 0===e[n]&&t.push(n),t}),[]);return 0!==r.length?function(){return"The following keys are invalid: "+r.join(", ")}:void 0}},o.arrayOf=function(e){return s(e)},o.tuple=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return s(e)},o.required=function(e){function t(t){return null==t?function(e){return c(e,h(e.path)?"cannot be undefined/null.":"is required.")}:e.apply(this,arguments)}return t.__required=!0,t},o.oneOfType=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(t){var n=e.map((function(e){return a(e,t)})).filter(Boolean);if(n.length===e.length)return n.every((function(e){return 1===e.length&&"string"==typeof e[0]}))?u(n.map((function(e){return e[0]}))):n.reduce((function(e,t){return t.length>e.length?t:e}))}},o.equal=function(e){return function(t){if(t!==e)return JSON.stringify(e)}},o.oneOf=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),t=e.map((function(e){return o.equal(e)}));return o.oneOfType.apply(this,t)},o.range=function(e){var t=e[0],n=e[1];return function(e){if(a(o.number,e)||e<t||e>n)return"number between "+t+" & "+n+" (inclusive)"}},o.any=function(){},o.boolean=function(e){if("boolean"!=typeof e)return"boolean"},o.number=function(e){if("number"!=typeof e)return"number"},o.plainArray=function(e){if(!Array.isArray(e))return"array"},o.plainObject=function(e){if(!i(e))return"object"},o.string=function(e){if("string"!=typeof e)return"string"},o.func=function(e){if("function"!=typeof e)return"function"},o.validate=a,o.processMessage=l,e.exports=o},uhBA:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(p=1,l=new Array(h-1);p<h;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||l(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u},wYlg:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}}]);
//# sourceMappingURL=component---src-pages-municipalities-tsx-95e994328f690b06ce06.js.map